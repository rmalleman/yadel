/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(1);
	__webpack_require__(2);
	__webpack_require__(3);
	__webpack_require__(8);
	__webpack_require__(5);
	__webpack_require__(7);
	__webpack_require__(4);
	module.exports = __webpack_require__(6);


/***/ },
/* 1 */
/***/ function(module, exports) {

	"use strict";
	var MainController = (function () {
	    function MainController(urlService, httpExecute, dagService) {
	        this.dagReportNameSpace = "org.roylance.yadel.api.models.UIDagReport";
	        this.urlService = urlService;
	        this.httpExecute = httpExecute;
	        this.dagService = dagService;
	        var self = this;
	        this.httpExecute.getExecute(this.urlService.protoMessageUrl, null, function (data) {
	            self.handleProto(data);
	        }, function (data) {
	            console.log(data);
	        });
	    }
	    MainController.prototype.handleProto = function (data) {
	        var builder = dcodeIO.ProtoBuf.loadProto(data);
	        this.dagReportBuilder = builder.build(this.dagReportNameSpace);
	        var self = this;
	        this.httpExecute.getExecute(this.urlService.reportUrl, null, function (data) {
	            self.handleReport(data);
	        }, function (data) {
	            console.log(data);
	        });
	    };
	    MainController.prototype.handleReport = function (data) {
	        var dagReport = this.dagReportBuilder.decode64(data);
	        this.dagService.buildTreeVisualization(dagReport, "");
	    };
	    return MainController;
	}());
	exports.MainController = MainController;


/***/ },
/* 2 */
/***/ function(module, exports) {

	"use strict";
	var UIRequests = (function () {
	    function UIRequests() {
	        this.report_dags = 1;
	        this.delete_dag = 2;
	    }
	    return UIRequests;
	}());
	exports.UIRequests = UIRequests;


/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	var local_url_1 = __webpack_require__(4);
	var dag_1 = __webpack_require__(5);
	var url_1 = __webpack_require__(6);
	var http_execute_1 = __webpack_require__(7);
	var main_1 = __webpack_require__(1);
	var localUrlService = new local_url_1.LocalUrlService();
	var mainControllerName = "mainController";
	var app = angular.module('jsapp', [
	    "ngRoute"
	]);
	app.config(function ($routeProvider) {
	    $routeProvider
	        .when(localUrlService.main, {
	        templateUrl: "views/main.html",
	        controller: mainControllerName
	    })
	        .otherwise({
	        redirectTo: localUrlService.main
	    });
	});
	app.factory("dagService", function () {
	    return new dag_1.DagService();
	});
	app.factory("urlService", function ($window) {
	    return new url_1.UrlService($window);
	});
	app.factory("httpExecuteService", function ($window, $http) {
	    return new http_execute_1.HttpExecuteService($http);
	});
	app.controller(mainControllerName, ['$scope', '$http', '$log', 'urlService', 'httpExecuteService', 'dagService',
	    function ($scope, $http, $log, urlService, httpExecuteService, dagService) {
	        $scope.i = new main_1.MainController(urlService, httpExecuteService, dagService);
	    }]);


/***/ },
/* 4 */
/***/ function(module, exports) {

	"use strict";
	var LocalUrlService = (function () {
	    function LocalUrlService() {
	        this.main = "/main";
	    }
	    return LocalUrlService;
	}());
	exports.LocalUrlService = LocalUrlService;


/***/ },
/* 5 */
/***/ function(module, exports) {

	"use strict";
	var DagService = (function () {
	    function DagService() {
	    }
	    DagService.prototype.buildTreeVisualization = function (dagReport, svgId) {
	        var arrange = "LR";
	        var g = new dagreD3.graphlib.Graph();
	        g.setGraph({});
	        g.setDefaultEdgeLabel(function () { return {}; });
	        for (var dagIdx in dagReport.dags) {
	            var foundDag = dagReport.dags[dagIdx];
	            for (var nodeIdx in foundDag.nodes.map) {
	                var node = foundDag.nodes.map[nodeIdx];
	                if (node.value.is_completed) {
	                    g.setNode(node.key, { label: node.key, style: "fill: green" });
	                }
	                else {
	                    g.setNode(node.key, { label: node.key, style: "fill: whitesmoke" });
	                }
	            }
	            for (var edgeIdx in foundDag.edges) {
	                g.setEdge(foundDag.edges[edgeIdx].node_id_2, foundDag.edges[edgeIdx].node_id_1);
	            }
	        }
	        var render = new dagreD3.render();
	        // todo: parameterize this more
	        var svg = d3.select("svg"), svgGroup = svg.append("g");
	        render(d3.select("svg g"), g);
	    };
	    return DagService;
	}());
	exports.DagService = DagService;


/***/ },
/* 6 */
/***/ function(module, exports) {

	"use strict";
	var UrlService = (function () {
	    function UrlService(window) {
	        var pathLocation = window.location.pathname + "rest";
	        this.protoMessageUrl = pathLocation + "/proto/message";
	        this.reportUrl = pathLocation + "/report/current";
	        this.deleteDagUrl = pathLocation + "/report/delete";
	    }
	    return UrlService;
	}());
	exports.UrlService = UrlService;


/***/ },
/* 7 */
/***/ function(module, exports) {

	"use strict";
	var HttpExecuteService = (function () {
	    function HttpExecuteService(httpService) {
	        this.csrfTokenName = "X-CSRFToken";
	        this.httpGet = "GET";
	        this.httpPost = "POST";
	        this.httpPut = "PUT";
	        this.httpPatch = "PATCH";
	        this.httpDelete = "DELETE";
	        this.httpService = httpService;
	    }
	    HttpExecuteService.prototype.getExecute = function (url, data, onSuccess, onError) {
	        this.httpService({
	            url: url,
	            method: this.httpGet,
	            data: data
	        })
	            .success(function (data) {
	            onSuccess(data);
	        })
	            .error(function (data) {
	            onError(data);
	        });
	    };
	    HttpExecuteService.prototype.postExecute = function (url, data, onSuccess, onError) {
	        this.httpService({
	            url: url,
	            method: this.httpPost,
	            data: data
	        })
	            .success(function (data) {
	            onSuccess(data);
	        })
	            .error(function (data) {
	            onError(data);
	        });
	    };
	    HttpExecuteService.prototype.deleteExecute = function (url, data, onSuccess, onError) {
	        this.httpService({
	            url: url,
	            method: this.httpDelete,
	            data: data
	        })
	            .success(function (data) {
	            onSuccess(data);
	        })
	            .error(function (data) {
	            onError(data);
	        });
	    };
	    return HttpExecuteService;
	}());
	exports.HttpExecuteService = HttpExecuteService;


/***/ },
/* 8 */
/***/ function(module, exports) {

	"use strict";


/***/ }
/******/ ]);